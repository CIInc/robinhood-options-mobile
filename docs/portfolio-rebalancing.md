# Portfolio Rebalancing

The Portfolio Rebalancing tool helps you maintain your desired asset allocation by comparing your current portfolio against your target goals. It provides visual insights and actionable recommendations to keep your portfolio aligned with your investment strategy.

## Key Features

### 1. Dual View Modes
- **Asset Class Allocation**: View and manage your portfolio split between **Stocks**, **Options**, **Crypto**, and **Cash**.
  - *Note:* Short-term Treasury ETFs (e.g., SGOV, BIL, SHV) are automatically classified as **Cash Equivalents** to provide a more accurate view of your liquidity.
- **Sector Allocation**: Analyze your exposure across 11 standard market sectors (Technology, Healthcare, Financial Services, etc.).

### 2. Visual Analysis
- **Interactive Charts**: Side-by-side pie charts visualize your "Current" vs "Target" allocation for quick comparison.
- **Progress Bars**: Each asset or sector card features stacked progress bars showing exactly where you stand relative to your goal.
- **Drift Indicators**: Color-coded indicators (Green check / Orange warning) instantly highlight areas that have drifted from your target.

### 3. Easy Target Editing
- **Edit Mode**: Toggle edit mode to adjust your target allocations.
- **Precision Controls**: Use sliders for broad adjustments or the **+ / - buttons** for precise 1% increments.
- **Smart Presets**: Quickly apply standard strategies using the preset chips:
  - *Asset Class*: Aggressive, Moderate, Conservative, All Equity.
  - *Sector*: Tech Heavy, Balanced, Defensive.
- **Normalization**: One-tap "Normalize" button ensures your targets always add up to exactly 100%.

### 4. Actionable Recommendations
- **Drift Threshold**: Set a custom dollar threshold (e.g., $100, $500) to filter out minor fluctuations.
- **Smart Suggestions**: The tool automatically generates a list of "Buy" and "Sell" actions needed to rebalance your portfolio.
- **Prioritized List**: Recommendations are sorted by dollar amount, so you can focus on the most impactful trades first.
- **Clear Actions**: Each recommendation shows the exact amount to buy or sell to reach your target.

## How to Use

1. **Access**: Navigate to the "Allocation" section on the Home screen and tap "Rebalance".
2. **Set Targets**: Tap the "Edit" icon (pencil) to enter edit mode. Adjust sliders or apply a preset to define your ideal portfolio. Save your changes.
3. **Review Drift**: Check the "Drift" indicators on each card to see which assets are off-target.
4. **Execute Trades**: Scroll down to the "Rebalancing Recommendations" card to see a prioritized list of trades to execute.
